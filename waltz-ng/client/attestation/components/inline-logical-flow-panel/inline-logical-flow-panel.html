<!--
  ~ Waltz - Enterprise Architecture
  ~ Copyright (C) 2016, 2017, 2018, 2019 Waltz open source project
  ~ See README.md for more information
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~     http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific
  ~
  -->

<div>
    <waltz-source-and-target-panel entity-ref="$ctrl.parentEntityRef"
                                   logical-flows="$ctrl.logicalFlows"
                                   decorators="$ctrl.logicalFlowDecorators"
                                   physical-flows="$ctrl.physicalFlows"
                                   physical-specifications="$ctrl.physicalSpecifications"
                                   rating-direction="$ctrl.ratingDirection">
    </waltz-source-and-target-panel>

    <waltz-toggle state="$ctrl.ratingDirection === 'OUTBOUND'"
                  on-toggle="$ctrl.onToggleRatingDirection()"
                  label-on="Showing producer flow ratings"
                  label-off="Showing consumer flow ratings">
    </waltz-toggle>

    <p class="text-muted small">
        Diagram detailing the application's data types (Middle)
        from the sending system (LHS)
        to the receiving system on the (RHS).
        <span style="color: darkred">Red lines</span> indicate non-strategic flows,
        <span style="color: orange">Amber</span> indicates secondary and
        <span style="color: darkgreen">Green</span> indicates a primary system.
    </p>

    <p class="help-block">
        <waltz-svelte-component component="$ctrl.FlowClassificationLegend"
                                rating-direction="$ctrl.ratingDirection">
        </waltz-svelte-component>
    </p>
</div>